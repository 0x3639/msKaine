import{_ as e,o as a,c as s,ag as i}from"./chunks/framework.DEqXEGcv.js";const k=JSON.parse('{"title":"Configuration","description":"","frontmatter":{},"headers":[],"relativePath":"guide/configuration.md","filePath":"guide/configuration.md"}'),d={name:"guide/configuration.md"};function n(o,t,r,h,l,c){return a(),s("div",null,[...t[0]||(t[0]=[i(`<h1 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">​</a></h1><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-label="Permalink to &quot;Environment Variables&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Variable</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>BOT_TOKEN</code></td><td>Yes</td><td>—</td><td>Telegram Bot API token from <a href="https://t.me/BotFather" target="_blank" rel="noreferrer">@BotFather</a></td></tr><tr><td><code>DATABASE_URL</code></td><td>Yes</td><td>—</td><td>PostgreSQL connection string</td></tr><tr><td><code>POSTGRES_PASSWORD</code></td><td>Yes</td><td>—</td><td>PostgreSQL password (used by Docker Compose)</td></tr><tr><td><code>REDIS_URL</code></td><td>Yes</td><td><code>redis://localhost:6379</code></td><td>Redis connection URL</td></tr><tr><td><code>REDIS_PASSWORD</code></td><td>No</td><td>—</td><td>Redis password (Docker Compose auto-builds REDIS_URL)</td></tr><tr><td><code>BOT_OWNER_ID</code></td><td>No</td><td><code>0</code></td><td>Telegram user ID for owner-only commands like <code>/broadcast</code></td></tr><tr><td><code>ZENON_NODE_HTTP</code></td><td>No</td><td><code>https://node.zenonhub.io:35997</code></td><td>Zenon HTTP endpoint</td></tr><tr><td><code>ZENON_NODE_WS</code></td><td>No</td><td><code>wss://node.zenonhub.io:35998</code></td><td>Zenon WebSocket endpoint</td></tr><tr><td><code>ZENON_MNEMONIC</code></td><td>No</td><td>—</td><td>Bot wallet mnemonic for <code>/zsend</code> and <code>/zfuse</code></td></tr><tr><td><code>HEALTH_PORT</code></td><td>No</td><td><code>0</code></td><td>HTTP health check port (0 = disabled)</td></tr><tr><td><code>LOG_LEVEL</code></td><td>No</td><td><code>info</code></td><td>Log level: trace, debug, info, warn, error</td></tr><tr><td><code>NODE_ENV</code></td><td>No</td><td><code>development</code></td><td>Environment mode</td></tr></tbody></table><h2 id="docker-compose" tabindex="-1">Docker Compose <a class="header-anchor" href="#docker-compose" aria-label="Permalink to &quot;Docker Compose&quot;">​</a></h2><p>The easiest way to run the bot with all dependencies:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env.example</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .env</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Edit .env with your BOT_TOKEN and POSTGRES_PASSWORD</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> compose</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span></span></code></pre></div><p>This starts PostgreSQL, Redis, and the bot. The bot waits for both services to be healthy before starting.</p><h3 id="redis-authentication" tabindex="-1">Redis Authentication <a class="header-anchor" href="#redis-authentication" aria-label="Permalink to &quot;Redis Authentication&quot;">​</a></h3><p>Redis password is optional. Set <code>REDIS_PASSWORD</code> in <code>.env</code> to enable it — Docker Compose automatically constructs the <code>REDIS_URL</code> with credentials.</p><h2 id="manual-setup" tabindex="-1">Manual Setup <a class="header-anchor" href="#manual-setup" aria-label="Permalink to &quot;Manual Setup&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ci</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> generate</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prisma</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> push</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dev</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # development with hot reload</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # production build</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # run production</span></span></code></pre></div><h2 id="health-check" tabindex="-1">Health Check <a class="header-anchor" href="#health-check" aria-label="Permalink to &quot;Health Check&quot;">​</a></h2><p>Set <code>HEALTH_PORT</code> to a non-zero port number to enable an HTTP health check endpoint at <code>GET /health</code>. Useful for container orchestration and monitoring.</p>`,13)])])}const u=e(d,[["render",n]]);export{k as __pageData,u as default};
